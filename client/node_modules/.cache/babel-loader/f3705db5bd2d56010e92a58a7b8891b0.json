{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\97150\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\nvar _createClass = require(\"C:\\\\Users\\\\97150\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nrequire('./utils/index.js');\nvar utils = require('@pixi/utils');\nvar defaultProgram$1 = require('./defaultProgram.js');\nvar defaultProgram = require('./defaultProgram2.js');\nvar settings = require('@pixi/settings');\nvar constants = require('@pixi/constants');\nvar setPrecision = require('./utils/setPrecision.js');\nvar getMaxFragmentPrecision = require('./utils/getMaxFragmentPrecision.js');\nvar UID = 0;\nvar nameCache = {};\nvar Program = /*#__PURE__*/function () {\n  function Program(vertexSrc, fragmentSrc) {\n    var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"pixi-shader\";\n    var extra = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    _classCallCheck(this, Program);\n    this.extra = {};\n    this.id = UID++;\n    this.vertexSrc = vertexSrc || Program.defaultVertexSrc;\n    this.fragmentSrc = fragmentSrc || Program.defaultFragmentSrc;\n    this.vertexSrc = this.vertexSrc.trim();\n    this.fragmentSrc = this.fragmentSrc.trim();\n    this.extra = extra;\n    if (this.vertexSrc.substring(0, 8) !== \"#version\") {\n      name = name.replace(/\\s+/g, \"-\");\n      if (nameCache[name]) {\n        nameCache[name]++;\n        name += \"-\".concat(nameCache[name]);\n      } else {\n        nameCache[name] = 1;\n      }\n      this.vertexSrc = \"#define SHADER_NAME \".concat(name, \"\\n\").concat(this.vertexSrc);\n      this.fragmentSrc = \"#define SHADER_NAME \".concat(name, \"\\n\").concat(this.fragmentSrc);\n      this.vertexSrc = setPrecision.setPrecision(this.vertexSrc, settings.settings.PRECISION_VERTEX, constants.PRECISION.HIGH);\n      this.fragmentSrc = setPrecision.setPrecision(this.fragmentSrc, settings.settings.PRECISION_FRAGMENT, getMaxFragmentPrecision.getMaxFragmentPrecision());\n    }\n    this.glPrograms = {};\n    this.syncUniforms = null;\n  }\n  _createClass(Program, null, [{\n    key: \"from\",\n    value: function from(vertexSrc, fragmentSrc, name) {\n      var key = vertexSrc + fragmentSrc;\n      var program = utils.ProgramCache[key];\n      if (!program) {\n        utils.ProgramCache[key] = program = new Program(vertexSrc, fragmentSrc, name);\n      }\n      return program;\n    }\n  }, {\n    key: \"defaultVertexSrc\",\n    get: function get() {\n      return defaultProgram[\"default\"];\n    }\n  }, {\n    key: \"defaultFragmentSrc\",\n    get: function get() {\n      return defaultProgram$1[\"default\"];\n    }\n  }]);\n  return Program;\n}();\nexports.Program = Program;","map":null,"metadata":{},"sourceType":"script"}