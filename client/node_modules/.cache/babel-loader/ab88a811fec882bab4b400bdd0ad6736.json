{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\97150\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\nvar _possibleConstructorReturn = require(\"C:\\\\Users\\\\97150\\\\node_modules\\\\@babel\\\\runtime/helpers/possibleConstructorReturn\");\nvar _getPrototypeOf = require(\"C:\\\\Users\\\\97150\\\\node_modules\\\\@babel\\\\runtime/helpers/getPrototypeOf\");\nvar _inherits = require(\"C:\\\\Users\\\\97150\\\\node_modules\\\\@babel\\\\runtime/helpers/inherits\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar core = require('@pixi/core');\nvar graphics = require('@pixi/graphics');\nvar BasePrepare = require('./BasePrepare.js');\nfunction uploadBaseTextures(renderer, item) {\n  if (item instanceof core.BaseTexture) {\n    if (!item._glTextures[renderer.CONTEXT_UID]) {\n      renderer.texture.bind(item);\n    }\n    return true;\n  }\n  return false;\n}\nfunction uploadGraphics(renderer, item) {\n  if (!(item instanceof graphics.Graphics)) {\n    return false;\n  }\n  var geometry = item.geometry;\n  item.finishPoly();\n  geometry.updateBatches();\n  var batches = geometry.batches;\n  for (var i = 0; i < batches.length; i++) {\n    var texture = batches[i].style.texture;\n    if (texture) {\n      uploadBaseTextures(renderer, texture.baseTexture);\n    }\n  }\n  if (!geometry.batchable) {\n    renderer.geometry.bind(geometry, item._resolveDirectShader(renderer));\n  }\n  return true;\n}\nfunction findGraphics(item, queue) {\n  if (item instanceof graphics.Graphics) {\n    queue.push(item);\n    return true;\n  }\n  return false;\n}\nvar Prepare = /*#__PURE__*/function (_BasePrepare$BasePrep) {\n  _inherits(Prepare, _BasePrepare$BasePrep);\n  function Prepare(renderer) {\n    var _this;\n    _classCallCheck(this, Prepare);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Prepare).call(this, renderer));\n    _this.uploadHookHelper = _this.renderer;\n    _this.registerFindHook(findGraphics);\n    _this.registerUploadHook(uploadBaseTextures);\n    _this.registerUploadHook(uploadGraphics);\n    return _this;\n  }\n  return Prepare;\n}(BasePrepare.BasePrepare);\nPrepare.extension = {\n  name: \"prepare\",\n  type: core.ExtensionType.RendererSystem\n};\ncore.extensions.add(Prepare);\nexports.Prepare = Prepare;","map":null,"metadata":{},"sourceType":"script"}